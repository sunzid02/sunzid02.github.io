<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sarker Sunzid Mahmud | Full-Stack Developer</title>

  <meta name="description" content="Full-Stack Developer (Laravel, Node.js, React, Angular) focused on scalable web apps, performance, and GDPR-friendly engineering. Based in Dortmund, Germany." />
  <meta name="theme-color" content="#060610" />
  <meta name="color-scheme" content="dark" />

  <link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin />
  <link rel="dns-prefetch" href="https://cdnjs.cloudflare.com" />
  <link rel="preconnect" href="https://www.youtube-nocookie.com" crossorigin />
  <link rel="dns-prefetch" href="https://www.youtube-nocookie.com" />
  <link rel="preconnect" href="https://img.youtube.com" crossorigin />
  <link rel="dns-prefetch" href="https://img.youtube.com" />

  <!-- Three.js (deferred) -->
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>

  <style>
    :root{
      --bg: #060610;
      --panel: rgba(255,255,255,0.06);
      --panel2: rgba(255,255,255,0.04);
      --text: rgba(255,255,255,0.92);
      --muted: rgba(255,255,255,0.72);
      --border: rgba(115,170,255,0.28);
      --border2: rgba(115,170,255,0.42);
      --accent: #6aa8ff;
      --accent2: #00d4ff;
      --shadow: rgba(0,0,0,0.45);
      --radius: 18px;
      --radius2: 26px;
    }

    *{ margin:0; padding:0; box-sizing:border-box; }
    html{ scroll-behavior:smooth; }
    body{
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background: var(--bg);
      color: var(--text);
      overflow-x: hidden;
    }

    /* Background canvas */
    #three-canvas{
      position: fixed;
      inset: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
    }

    .container{
      position: relative;
      z-index: 2;
      max-width: 1120px;
      margin: 0 auto;
      padding: 22px;
    }

    /* Accessibility: allow reduced motion */
    @media (prefers-reduced-motion: reduce){
      html{ scroll-behavior:auto; }
      .fade-in, .section{ animation: none !important; }
    }

    /* Top nav */
    .topbar{
      position: sticky;
      top: 0;
      z-index: 5;
      backdrop-filter: blur(16px);
      background: rgba(6,6,16,0.65);
      border-bottom: 1px solid rgba(255,255,255,0.06);
    }
    .topbar-inner{
      max-width: 1120px;
      margin: 0 auto;
      padding: 12px 22px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 14px;
    }
    .brand{
      font-weight: 750;
      letter-spacing: 0.2px;
      font-size: 14px;
      color: rgba(255,255,255,0.95);
      text-decoration:none;
      display:flex;
      align-items:center;
      gap:10px;
    }
    .brand-badge{
      width: 10px;
      height: 10px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 30%, var(--accent2), var(--accent));
      box-shadow: 0 0 18px rgba(106,168,255,0.35);
    }
    .nav{
      display:flex;
      gap: 12px;
      flex-wrap: wrap;
      justify-content:flex-end;
    }
    .nav a{
      color: rgba(255,255,255,0.78);
      text-decoration:none;
      font-size: 13px;
      padding: 8px 10px;
      border-radius: 999px;
      border: 1px solid transparent;
      transition: 140ms ease;
    }
    .nav a:hover{
      color: rgba(255,255,255,0.92);
      border-color: rgba(255,255,255,0.10);
      background: rgba(255,255,255,0.04);
    }

    /* Hero */
    .hero{
      text-align: left;
      padding: 56px 0 14px;
    }
    .fade-in{
      animation: fadeInUp 650ms ease both;
    }
    @keyframes fadeInUp{
      from{ opacity:0; transform: translateY(14px); }
      to{ opacity:1; transform: translateY(0); }
    }
    h1{
      font-size: clamp(2.1rem, 3.4vw, 3.1rem);
      line-height: 1.1;
      letter-spacing: -0.7px;
      margin-bottom: 14px;
    }
    .sub{
      font-size: 1.05rem;
      line-height: 1.65;
      color: var(--muted);
      max-width: 820px;
    }

    .pill-row{
      display:flex;
      flex-wrap:wrap;
      gap: 10px;
      margin-top: 18px;
    }
    .pill{
      padding: 9px 12px;
      border-radius: 999px;
      background: var(--panel);
      border: 1px solid var(--border);
      color: rgba(255,255,255,0.88);
      font-size: 13px;
      box-shadow: 0 10px 28px var(--shadow);
    }

    .cta-row{
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
      margin-top: 22px;
    }
    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap: 10px;
      padding: 12px 16px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.10);
      background: rgba(255,255,255,0.06);
      color: rgba(255,255,255,0.92);
      text-decoration:none;
      font-weight: 650;
      font-size: 14px;
      transition: 150ms ease;
      box-shadow: 0 14px 30px rgba(0,0,0,0.28);
    }
    .btn.primary{
      background: rgba(106,168,255,0.16);
      border-color: rgba(106,168,255,0.35);
    }
    .btn:hover{
      transform: translateY(-1px);
      border-color: rgba(255,255,255,0.18);
      background: rgba(255,255,255,0.08);
    }
    .btn.primary:hover{
      border-color: rgba(106,168,255,0.55);
      background: rgba(106,168,255,0.22);
    }

    /* Sections */
    .section{
      margin: 44px 0;
      padding: 28px;
      background: rgba(255,255,255,0.04);
      border-radius: var(--radius2);
      border: 1px solid rgba(255,255,255,0.08);
      box-shadow: 0 18px 55px rgba(0,0,0,0.35);
    }
    .section h2{
      font-size: 1.55rem;
      letter-spacing: -0.2px;
    }
    .section p{
      margin-top: 14px;
      line-height: 1.75;
      color: rgba(255,255,255,0.82);
      font-size: 1.02rem;
    }

    .grid{
      display:grid;
      gap: 14px;
    }
    .grid.two{
      grid-template-columns: 1.3fr 1fr;
    }
    @media (max-width: 900px){
      .grid.two{ grid-template-columns: 1fr; }
    }

    /* Tech grid */
    .tech-grid{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(135px, 1fr));
      gap: 10px;
      margin-top: 18px;
    }
    .tech{
      padding: 12px 12px;
      border-radius: 14px;
      background: rgba(255,255,255,0.05);
      border: 1px solid rgba(255,255,255,0.08);
      color: rgba(255,255,255,0.88);
      font-weight: 600;
      font-size: 13px;
      transition: 140ms ease;
    }
    .tech:hover{
      border-color: rgba(106,168,255,0.35);
      background: rgba(106,168,255,0.10);
      transform: translateY(-1px);
    }

    /* Project cards */
    .cards{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(290px, 1fr));
      gap: 14px;
      margin-top: 18px;
    }
    .card{
      padding: 18px;
      border-radius: var(--radius);
      background: rgba(255,255,255,0.045);
      border: 1px solid rgba(255,255,255,0.08);
      transition: 160ms ease;
      box-shadow: 0 14px 35px rgba(0,0,0,0.25);
      cursor: pointer;
    }
    .card:hover{
      border-color: rgba(106,168,255,0.35);
      background: rgba(106,168,255,0.10);
      transform: translateY(-2px);
    }
    .card h3{
      font-size: 1.05rem;
      margin-bottom: 8px;
      color: rgba(255,255,255,0.94);
    }
    .card p{
      margin: 0;
      font-size: 0.98rem;
      color: rgba(255,255,255,0.78);
      line-height: 1.6;
    }
    .card .meta{
      margin-top: 10px;
      font-size: 12px;
      color: rgba(255,255,255,0.62);
    }

    /* Timeline */
    .timeline{
      margin-top: 18px;
      display:grid;
      gap: 12px;
    }
    .role{
      padding: 16px;
      border-radius: var(--radius);
      background: rgba(255,255,255,0.045);
      border: 1px solid rgba(255,255,255,0.08);
    }
    .role-head{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap: 12px;
      flex-wrap: wrap;
    }
    .role-title{
      font-weight: 800;
      letter-spacing: -0.2px;
      font-size: 1.02rem;
      color: rgba(255,255,255,0.92);
    }
    .role-when{
      color: rgba(255,255,255,0.64);
      font-size: 13px;
      white-space: nowrap;
    }
    .role ul{
      margin-top: 10px;
      padding-left: 18px;
      color: rgba(255,255,255,0.80);
      line-height: 1.65;
    }
    .role li{ margin: 6px 0; }

    /* Content creator slider */
    .slider{
      margin-top: 18px;
      border-radius: var(--radius2);
      border: 1px solid rgba(255,255,255,0.08);
      background: rgba(255,255,255,0.03);
      overflow: hidden;
    }
    .slider-top{
      display:flex;
      align-items:center;
      justify-content:space-between;
      padding: 12px 12px 10px;
      gap: 12px;
      border-bottom: 1px solid rgba(255,255,255,0.06);
    }
    .slider-top .hint{
      color: rgba(255,255,255,0.70);
      font-size: 13px;
      line-height: 1.4;
    }
    .slider-controls{
      display:flex;
      gap: 8px;
    }
    .icon-btn{
      width: 38px;
      height: 38px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,0.10);
      background: rgba(255,255,255,0.05);
      color: rgba(255,255,255,0.92);
      cursor: pointer;
      transition: 140ms ease;
    }
    .icon-btn:hover{
      border-color: rgba(106,168,255,0.40);
      background: rgba(106,168,255,0.14);
      transform: translateY(-1px);
    }

    .slides{
      position: relative;
      display:flex;
      transition: transform 280ms ease;
      will-change: transform;
    }

    .slide{
      min-width: 100%;
      padding: 14px;
      display:grid;
      gap: 12px;
      grid-template-columns: 1.2fr 0.8fr;
      align-items: start;
    }
    @media (max-width: 900px){
      .slide{ grid-template-columns: 1fr; }
    }

    .video-wrap{
      border-radius: 18px;
      overflow: hidden;
      border: 1px solid rgba(255,255,255,0.08);
      background: rgba(0,0,0,0.25);
      box-shadow: 0 16px 40px rgba(0,0,0,0.35);
      position: relative;
      aspect-ratio: 16 / 9;
    }
    .video-wrap img{
      width: 100%;
      height: 100%;
      object-fit: cover;
      display:block;
      filter: saturate(1.02);
    }
    .play{
      position:absolute;
      inset: 0;
      display:flex;
      align-items:center;
      justify-content:center;
      background: radial-gradient(circle at 50% 50%, rgba(0,0,0,0.25), rgba(0,0,0,0.55));
      color: rgba(255,255,255,0.94);
      font-weight: 800;
      letter-spacing: 0.2px;
      cursor:pointer;
      user-select:none;
      transition: 140ms ease;
    }
    .play:hover{ background: radial-gradient(circle at 50% 50%, rgba(0,0,0,0.20), rgba(0,0,0,0.60)); }
    .play span{
      display:inline-flex;
      align-items:center;
      gap: 10px;
      padding: 10px 14px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.18);
      background: rgba(255,255,255,0.06);
    }

    .video-meta{
      padding: 6px 2px;
    }
    .video-meta h3{
      margin: 0;
      font-size: 1.05rem;
    }
    .video-meta p{
      margin-top: 10px;
      color: rgba(255,255,255,0.76);
      font-size: 0.98rem;
      line-height: 1.65;
    }
    .video-meta a{
      color: rgba(106,168,255,0.92);
      text-decoration:none;
      border-bottom: 1px dashed rgba(106,168,255,0.45);
    }
    .video-meta a:hover{ border-bottom-style: solid; }

    .dots{
      display:flex;
      gap: 6px;
      justify-content:center;
      padding: 12px 0 14px;
      border-top: 1px solid rgba(255,255,255,0.06);
    }
    .dot{
      width: 8px;
      height: 8px;
      border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.18);
      background: rgba(255,255,255,0.06);
      cursor:pointer;
      transition: 140ms ease;
    }
    .dot.active{
      background: rgba(106,168,255,0.85);
      border-color: rgba(106,168,255,0.95);
      transform: scale(1.15);
    }

    footer{
      padding: 26px 0 40px;
      color: rgba(255,255,255,0.62);
      font-size: 13px;
      text-align:center;
    }
    .small{
      font-size: 12px;
      color: rgba(255,255,255,0.64);
    }

    /* print */
    @media print{
      #three-canvas, .topbar{ display:none !important; }
      body{ background:#fff; color:#000; }
      .section, .pill, .btn, .card, .role{ box-shadow:none !important; background:#fff !important; }
      a{ color:#000; text-decoration: underline; }
    }
  </style>
</head>

<body>
  <canvas id="three-canvas" aria-hidden="true"></canvas>

  <div class="topbar">
    <div class="topbar-inner">
      <a class="brand" href="#top">
        <span class="brand-badge" aria-hidden="true"></span>
        Sarker Sunzid Mahmud
      </a>
      <nav class="nav" aria-label="Primary">
        <a href="#about">About</a>
        <a href="#stack">Tech</a>
        <a href="#projects">Projects</a>
        <a href="#experience">Experience</a>
        <a href="#creator">Content</a>
        <a href="#contact">Contact</a>
      </nav>
    </div>
  </div>

  <main id="top" class="container">
    <section class="hero fade-in">
      <h1>Full-Stack Developer building reliable products with performance and clean architecture.</h1>
      <p class="sub">
        Based in Dortmund, Germany. I build scalable web applications using Laravel, Node.js, React, Angular, and TypeScript.
        I care about performance, maintainability, and GDPR-friendly data handling.
      </p>

      <div class="pill-row" role="list" aria-label="Highlights">
        <div class="pill" role="listitem">5+ years professional experience</div>
        <div class="pill" role="listitem">Laravel • React • Angular • Node.js</div>
        <div class="pill" role="listitem">CI/CD • Docker • Kubernetes</div>
        <div class="pill" role="listitem">English C1 • German A2 (improving)</div>
      </div>

      <div class="cta-row" id="contact">
        <a class="btn primary" href="mailto:sunzid02@gmail.com" rel="noopener">Email</a>
        <a class="btn" href="https://www.linkedin.com/in/sarker-sunzid-mahmud" target="_blank" rel="noopener">LinkedIn</a>
        <a class="btn" href="https://github.com/sunzid02" target="_blank" rel="noopener">GitHub</a>
      </div>

      <p class="small" style="margin-top: 12px;">
        Previously: Atflow GmbH (Sep 2025 to Dec 2025). Currently open to new opportunities.
      </p>
    </section>

    <section id="about" class="section fade-in">
      <h2>About</h2>
      <div class="grid two">
        <div>
          <p>
            I am a Full-Stack Developer with 5+ years of experience delivering web applications across Europe and Asia.
            I enjoy API design, performance optimization, and building systems that teams can maintain long term.
          </p>
          <p>
            Recently, I have worked on time tracking and billing workflows, improved API response times through caching and query optimization,
            and built internal web interfaces that reduced manual reporting effort.
          </p>
        </div>
        <div>
          <p style="margin-top: 0;">
            <b>Focus areas</b><br />
            • Backend APIs and clean architecture<br />
            • Frontend web apps (React and Angular)<br />
            • Performance, reliability, and security basics<br />
            • DevOps fundamentals (Docker, Kubernetes, CI/CD)
          </p>
        </div>
      </div>
    </section>

    <section id="stack" class="section fade-in">
      <h2>Tech Stack</h2>
      <div class="tech-grid" aria-label="Tech stack">
        <div class="tech">PHP (Laravel, Symfony)</div>
        <div class="tech">Node.js (Express)</div>
        <div class="tech">React</div>
        <div class="tech">Angular</div>
        <div class="tech">TypeScript</div>
        <div class="tech">REST APIs</div>
        <div class="tech">GraphQL</div>
        <div class="tech">MySQL</div>
        <div class="tech">MongoDB</div>
        <div class="tech">Kafka</div>
        <div class="tech">Docker</div>
        <div class="tech">Kubernetes</div>
        <div class="tech">GitHub Actions</div>
        <div class="tech">PHPUnit • Jest</div>
      </div>
    </section>

    <section id="projects" class="section fade-in">
      <h2>Projects</h2>
      <p>Selected projects that reflect my day to day stack and the kind of problems I enjoy solving.</p>

      <div class="cards" role="list">
        <div class="card" role="listitem" tabindex="0" onclick="window.open('https://github.com/sunzid02/news-aggregator','_blank')">
          <h3>News Aggregator</h3>
          <p>Laravel 12 + React platform aggregating multi-source news via scheduled ingestion and RESTful APIs.</p>
          <div class="meta">Laravel • React • DTO architecture • Search and filters</div>
        </div>

        <div class="card" role="listitem" tabindex="0" onclick="window.open('https://github.com/sunzid02/SocialSite','_blank')">
          <h3>Dev Connector</h3>
          <p>Developer social network built with React, Node.js, and MongoDB with JWT authentication.</p>
          <div class="meta">React • Node.js • MongoDB • JWT</div>
        </div>

        <div class="card" role="listitem" tabindex="0">
          <h3>Daylight Exposure Analysis</h3>
          <p>Logistic regression and ROC analysis on sensor data to identify optimal daylight thresholds.</p>
          <div class="meta">Python • scikit-learn • Data analysis</div>
        </div>
      </div>
    </section>

    <section id="experience" class="section fade-in">
      <h2>Experience</h2>
      <div class="timeline">
        <div class="role">
          <div class="role-head">
            <div class="role-title">Full Stack Developer (Part-time) | Atflow GmbH, Hamburg</div>
            <div class="role-when">Sep 2025 to Dec 2025</div>
          </div>
          <ul>
            <li>Developed task and time tracking features with Laravel and React, enabling calendar-based hour allocation and accurate client billing.</li>
            <li>Optimized DATEV-based billing workflows using task-time analytics and code reviews, reducing errors by around 20%.</li>
          </ul>
        </div>

        <div class="role">
          <div class="role-head">
            <div class="role-title">Full Stack Developer (Part-time) | Konnektivität & Kommunikation GmbH, Hamm</div>
            <div class="role-when">Aug 2021 to May 2025</div>
          </div>
          <ul>
            <li>Reduced REST API response times by 30% through caching and endpoint optimization using PHP Slim.</li>
            <li>Improved reporting performance by 25% via MySQL schema and index optimization.</li>
            <li>Built and maintained Angular-based internal web apps, reducing manual reporting effort by 40% for teams.</li>
          </ul>
        </div>

        <div class="role">
          <div class="role-head">
            <div class="role-title">Software Engineer | Echologyx, Dhaka</div>
            <div class="role-when">Oct 2020 to May 2021</div>
          </div>
          <ul>
            <li>Reduced page load times by 15% by optimizing JavaScript and CSS delivery and removing render-blocking resources.</li>
            <li>Increased conversion rates by up to 25% through A/B and multivariate testing using Optimizely, VWO, and Google Optimize.</li>
          </ul>
        </div>

        <div class="role">
          <div class="role-head">
            <div class="role-title">Software Engineer | REPTO Education Center, Dhaka</div>
            <div class="role-when">May 2019 to May 2020</div>
          </div>
          <ul>
            <li>Designed and scaled backend systems using Laravel, MySQL, and REST APIs for an e-learning platform with 50,000+ users.</li>
            <li>Integrated job boards, exam systems, and premium memberships with SSLCommerz payments, increasing engagement by 35%.</li>
          </ul>
        </div>

        <div class="role">
          <div class="role-head">
            <div class="role-title">Web Developer | Cloudwell Limited (PayWell), Dhaka</div>
            <div class="role-when">Oct 2017 to Mar 2019</div>
          </div>
          <ul>
            <li>Built secure, high-volume payment processing services in PHP handling thousands of daily transactions.</li>
            <li>Automated sales reporting and dashboard generation using cron-based Excel integrations, reducing manual effort by 50%.</li>
          </ul>
        </div>
      </div>
    </section>

    <section id="creator" class="section fade-in">
      <h2>Content Creator</h2>
      <p>
        I also create developer-focused content (short tutorials, interview prep, and practical engineering notes).
        Here are a few videos. Thumbnails load first, and the player only loads when you press play.
      </p>

      <div class="slider" aria-label="Video slider">
        <div class="slider-top">
          <div class="hint">Use the arrows to browse. Press play to load the video.</div>
          <div class="slider-controls">
            <button class="icon-btn" id="prevBtn" type="button" aria-label="Previous video">‹</button>
            <button class="icon-btn" id="nextBtn" type="button" aria-label="Next video">›</button>
          </div>
        </div>

        <div class="slides" id="slides">
          <!-- Slides injected by JS -->
        </div>

        <div class="dots" id="dots" aria-label="Slide indicators"></div>
      </div>
    </section>

    <section class="section fade-in">
      <h2>Education and Certificates</h2>
      <p>
        Master’s in Data Science (ongoing), TU Dortmund. B.Sc. Computer Science and Engineering (AIUB).
        Certificates include IBM Cloud-Native Architecture, Docker, Kubernetes, Generative AI foundations, and Kafka basics.
      </p>
    </section>

    <footer>
      <div>© <span id="year"></span> Sarker Sunzid Mahmud</div>
      <div class="small">Built as a single HTML file for GitHub profile hosting.</div>
    </footer>
  </main>

  <script>
    // --------- Content Creator Slider (lazy video load) ---------
    const videos = [
      {
        id: "d2BziZU60us",
        title: "Developer Content",
        desc: "A practical engineering topic, explained with real examples.",
        url: "https://www.youtube.com/watch?v=d2BziZU60us"
      },
      {
        id: "PHp-iQHsOHQ",
        title: "Developer Content",
        desc: "Short and clear breakdown, focused on learning and execution.",
        url: "https://www.youtube.com/watch?v=PHp-iQHsOHQ"
      },
      {
        id: "NdIGFgBrxfM",
        title: "Developer Content",
        desc: "A topic that helps you think in systems and ship cleaner code.",
        url: "https://www.youtube.com/watch?v=NdIGFgBrxfM"
      },
      {
        id: "-Yxgw5RiCvY",
        title: "Developer Content",
        desc: "Another practical walkthrough that you can apply immediately.",
        url: "https://youtu.be/-Yxgw5RiCvY"
      },
      {
        id: "NLGpMFaFhf0",
        title: "YouTube Short",
        desc: "Short-form tip with a quick takeaway.",
        url: "https://youtube.com/shorts/NLGpMFaFhf0"
      }
    ];

    const slidesEl = document.getElementById("slides");
    const dotsEl = document.getElementById("dots");
    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");

    let index = 0;

    function thumbUrl(videoId){
      return "https://img.youtube.com/vi/" + videoId + "/hqdefault.jpg";
    }

    function slideTemplate(v){
      const safeTitle = (v.title || "Video").replace(/</g, "&lt;").replace(/>/g, "&gt;");
      const safeDesc = (v.desc || "").replace(/</g, "&lt;").replace(/>/g, "&gt;");
      const safeUrl = (v.url || "#").replace(/</g, "&lt;").replace(/>/g, "&gt;");

      return `
        <div class="slide">
          <div class="video-wrap" data-video="${v.id}">
            <img loading="lazy" decoding="async" src="${thumbUrl(v.id)}" alt="Video thumbnail" />
            <div class="play" role="button" tabindex="0" aria-label="Play video">
              <span>▶ Play</span>
            </div>
          </div>
          <div class="video-meta">
            <h3>${safeTitle}</h3>
            <p>${safeDesc}</p>
            <p><a href="${safeUrl}" target="_blank" rel="noopener">Open on YouTube</a></p>
          </div>
        </div>
      `;
    }

    function render(){
      slidesEl.innerHTML = videos.map(slideTemplate).join("");
      dotsEl.innerHTML = videos.map((_, i) => `<button class="dot ${i===0?'active':''}" type="button" aria-label="Go to slide ${i+1}" data-i="${i}"></button>`).join("");
      update();
      bindSlidePlay();
    }

    function update(){
      slidesEl.style.transform = "translateX(" + (-index * 100) + "%)";
      [...dotsEl.querySelectorAll(".dot")].forEach((d, i) => d.classList.toggle("active", i === index));
    }

    function goTo(i){
      index = (i + videos.length) % videos.length;
      update();
      stopAllPlayers();
    }

    function next(){ goTo(index + 1); }
    function prev(){ goTo(index - 1); }

    function stopAllPlayers(){
      // Replace iframes back to thumbnails to avoid multiple players running
      document.querySelectorAll(".video-wrap").forEach(wrap => {
        const iframe = wrap.querySelector("iframe");
        if (!iframe) return;
        const vid = wrap.getAttribute("data-video");
        wrap.innerHTML = `
          <img loading="lazy" decoding="async" src="${thumbUrl(vid)}" alt="Video thumbnail" />
          <div class="play" role="button" tabindex="0" aria-label="Play video">
            <span>▶ Play</span>
          </div>
        `;
      });
      bindSlidePlay();
    }

    function loadPlayer(wrap){
      const vid = wrap.getAttribute("data-video");
      const src = "https://www.youtube-nocookie.com/embed/" + vid + "?autoplay=1&rel=0&modestbranding=1";
      wrap.innerHTML = `
        <iframe
          title="YouTube video player"
          src="${src}"
          loading="lazy"
          allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
          allowfullscreen
          referrerpolicy="strict-origin-when-cross-origin"
          style="width:100%;height:100%;border:0;display:block;"
        ></iframe>
      `;
    }

    function bindSlidePlay(){
      document.querySelectorAll(".video-wrap .play").forEach(playBtn => {
        const wrap = playBtn.closest(".video-wrap");
        const handler = () => loadPlayer(wrap);
        playBtn.addEventListener("click", handler, { once: true });
        playBtn.addEventListener("keydown", (e) => {
          if (e.key === "Enter" || e.key === " ") {
            e.preventDefault();
            loadPlayer(wrap);
          }
        }, { once: true });
      });
    }

    prevBtn.addEventListener("click", prev);
    nextBtn.addEventListener("click", next);
    dotsEl.addEventListener("click", (e) => {
      const t = e.target;
      if (t && t.matches(".dot")) {
        const i = parseInt(t.getAttribute("data-i"), 10);
        if (!Number.isNaN(i)) goTo(i);
      }
    });

    // Keyboard support
    window.addEventListener("keydown", (e) => {
      if (e.key === "ArrowLeft") prev();
      if (e.key === "ArrowRight") next();
    });

    // Footer year
    document.getElementById("year").textContent = new Date().getFullYear();

    render();
  </script>

  <script>
    // --------- Three.js Background (performance-friendly) ---------
    // Runs only after three.js is loaded.
    (function initThree(){
      function canRun(){
        const reduce = window.matchMedia && window.matchMedia("(prefers-reduced-motion: reduce)").matches;
        return !reduce && typeof THREE !== "undefined";
      }
      if (!canRun()) return;

      const canvas = document.getElementById("three-canvas");
      const renderer = new THREE.WebGLRenderer({ canvas, alpha: true, antialias: true, powerPreference: "high-performance" });
      renderer.setSize(window.innerWidth, window.innerHeight);
      renderer.setPixelRatio(Math.min(window.devicePixelRatio || 1, 2));

      const scene = new THREE.Scene();
      const camera = new THREE.PerspectiveCamera(70, window.innerWidth / window.innerHeight, 0.1, 1000);
      camera.position.z = 34;

      // Lighting
      const ambient = new THREE.AmbientLight(0xffffff, 0.22);
      scene.add(ambient);

      const light1 = new THREE.PointLight(0x6aa8ff, 1.2, 120);
      light1.position.set(18, 18, 24);
      scene.add(light1);

      const light2 = new THREE.PointLight(0x00d4ff, 0.9, 120);
      light2.position.set(-18, -12, 18);
      scene.add(light2);

      // Particle count adapts to screen size
      const isSmall = window.matchMedia && window.matchMedia("(max-width: 768px)").matches;
      const particleCount = isSmall ? 1200 : 2200;

      const geo = new THREE.BufferGeometry();
      const pos = new Float32Array(particleCount * 3);

      for (let i = 0; i < particleCount * 3; i += 3) {
        pos[i] = (Math.random() - 0.5) * 110;
        pos[i + 1] = (Math.random() - 0.5) * 110;
        pos[i + 2] = (Math.random() - 0.5) * 110;
      }

      geo.setAttribute("position", new THREE.BufferAttribute(pos, 3));

      const mat = new THREE.PointsMaterial({
        size: 0.16,
        color: 0x6aa8ff,
        transparent: true,
        opacity: 0.55,
        depthWrite: false
      });

      const points = new THREE.Points(geo, mat);
      scene.add(points);

      // Subtle shapes
      const shapes = [];
      const geometries = [
        new THREE.IcosahedronGeometry(3),
        new THREE.OctahedronGeometry(3),
        new THREE.TetrahedronGeometry(3)
      ];

      const shapeCount = isSmall ? 6 : 10;
      for (let i = 0; i < shapeCount; i++) {
        const g = geometries[Math.floor(Math.random() * geometries.length)];
        const m = new THREE.MeshPhongMaterial({
          color: 0x6aa8ff,
          wireframe: true,
          transparent: true,
          opacity: 0.14
        });
        const mesh = new THREE.Mesh(g, m);
        mesh.position.set((Math.random() - 0.5) * 70, (Math.random() - 0.5) * 70, (Math.random() - 0.5) * 50);
        mesh.rotation.set(Math.random() * Math.PI, Math.random() * Math.PI, Math.random() * Math.PI);
        mesh.userData.rs = {
          x: (Math.random() - 0.5) * 0.006,
          y: (Math.random() - 0.5) * 0.006,
          z: (Math.random() - 0.5) * 0.006
        };
        scene.add(mesh);
        shapes.push(mesh);
      }

      // Mouse parallax (light)
      let mouseX = 0;
      let mouseY = 0;
      window.addEventListener("mousemove", (e) => {
        mouseX = (e.clientX / window.innerWidth) * 2 - 1;
        mouseY = -(e.clientY / window.innerHeight) * 2 + 1;
      }, { passive: true });

      // Pause when hidden
      let running = true;
      document.addEventListener("visibilitychange", () => {
        running = !document.hidden;
      });

      function animate(){
        if (!running) {
          requestAnimationFrame(animate);
          return;
        }

        points.rotation.y += 0.00035;
        points.rotation.x += 0.00012;

        shapes.forEach(s => {
          s.rotation.x += s.userData.rs.x;
          s.rotation.y += s.userData.rs.y;
          s.rotation.z += s.userData.rs.z;
        });

        camera.position.x += (mouseX * 3.0 - camera.position.x) * 0.03;
        camera.position.y += (mouseY * 3.0 - camera.position.y) * 0.03;
        camera.lookAt(0, 0, 0);

        const t = Date.now() * 0.0008;
        light1.position.x = Math.sin(t) * 18;
        light1.position.z = Math.cos(t) * 22;
        light2.position.x = Math.cos(t * 0.9) * 18;
        light2.position.z = Math.sin(t * 0.9) * 22;

        renderer.render(scene, camera);
        requestAnimationFrame(animate);
      }
      animate();

      window.addEventListener("resize", () => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
      });
    })();
  </script>
</body>
</html>
